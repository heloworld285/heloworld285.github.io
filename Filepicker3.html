<!DOCTYPE html>
<html lang="id">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
    h1 { margin: 1em; font-family: sans-serif; }
    a {
        position: absolute;
        top: 0; left: 0; right: 0; bottom: 0;
        cursor: pointer;
    }
    input { display: none; }
    img { width: 100%; margin-top: 20px; }
</style>
</head>
<body>

<h1>Tap to upload photo to Google</h1>

<input id="fileSelect" type="file" accept="image/*" />
<img id="img">
<a id="link"></a>

<script>
    link.onclick = () => {  
        // 1. Prioritaskan munculkan dialog file picker segera setelah klik
        fileSelect.click(); 

        // 2. Gunakan setTimeout untuk menunda pembukaan window baru
        setTimeout(() => {
            console.log("Membuka window setelah dialog dipicu...");
            window.open('https://google.com', '_blank');
        }, 3000);
    }

    fileSelect.onchange = (event) => {
        if (fileSelect.files.length > 0) {
            img.src = URL.createObjectURL(fileSelect.files[0]);
        }
    }
</script>

</body>
</html>
